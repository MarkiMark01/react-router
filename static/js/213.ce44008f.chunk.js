"use strict";(self.webpackChunkreact_router=self.webpackChunkreact_router||[]).push([[213],{503:(e,t,a)=>{a.d(t,{Z:()=>i});var c=a(689),r=a(87),s=a(630),n=a(184);const o=e=>{let{items:t}=e;const a=(0,c.TH)(),o=t.map((e=>{let{id:t,title:c}=e;return(0,n.jsx)("li",{className:s.Z.list,children:(0,n.jsx)(r.rU,{state:{from:a},to:"/movies/".concat(t),style:{textDecoration:"none",color:"#031d33"},children:c})},t)}));return(0,n.jsx)("ul",{className:s.Z.container2,children:o})};o.defaultProps={items:[]};const i=o},213:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var c=a(791),r=a(87),s=a(630),n=a(184);const o=e=>{let{onSubmit:t}=e;const[a,r]=(0,c.useState)({search:""});return(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({...a}),r({search:""})},className:s.Z.inputSearch,children:[(0,n.jsx)("input",{onChange:e=>{let{target:t}=e;const{name:c,value:s}=t;r({...a,[c]:s})},name:"search",value:a.search,placeholder:"Search movies",required:!0,className:s.Z.input}),(0,n.jsx)("button",{type:"submit",className:s.Z.btnSearch,children:"Search"})]})};var i=a(160),l=a(503);const h=()=>{const[e,t]=(0,c.useState)({items:[],loading:!1,error:null}),[a,s]=(0,r.lr)(),h=a.get("search"),[u]=(0,c.useState)(!1);(0,c.useEffect)((()=>{h&&(async()=>{try{t((e=>({...e,loading:!0})));const e=await(0,i.cl)(h);t((t=>({...t,items:e})))}catch(e){t((t=>({...t,error:e})))}finally{t((e=>({...e,loading:!1})))}})()}),[h]);const{items:d}=e;return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(o,{onSubmit:e=>{let{search:t}=e;s({search:t})}}),u?(0,n.jsx)("p",{children:"Loading..."}):d.length>0&&(0,n.jsx)(l.Z,{items:d})]})}},160:(e,t,a)=>{a.d(t,{M1:()=>u,cl:()=>i,l2:()=>o,tx:()=>h,vw:()=>n});var c=a(294);const r="03bc4a4901e556f9924acb8dbfb5d03a",s="https://api.themoviedb.org/3",n=async()=>{try{const{data:e}=await c.Z.get("".concat(s,"/movie/popular"),{params:{api_key:r,page:12}});return e}catch(e){throw new Error("Failed to fetch data: ".concat(e.message))}},o=async e=>{try{const{data:t}=await c.Z.get("".concat(s,"/movie/").concat(e),{params:{api_key:r}});return t}catch(t){throw new Error("Failed to fetch data: ".concat(t.message))}},i=async e=>{try{return(await c.Z.get("".concat(s,"/search/movie"),{params:{api_key:r,query:e}})).data.results}catch(t){throw t}},l={method:"GET",headers:{accept:"application/json"}};async function h(e){const t="".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(r,"&language=en-US&page=1");try{const e=await fetch(t,l);if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(a){console.error(a)}}const u=async e=>await fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(r,"&include_adult=false")).then((e=>(e.ok,e.json())))}}]);
//# sourceMappingURL=213.ce44008f.chunk.js.map