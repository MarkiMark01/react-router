"use strict";(self.webpackChunkreact_router=self.webpackChunkreact_router||[]).push([[138],{138:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var s=a(791),c=a(160),r=a(689),n=a(87),o=a(630),i=a(184);const d=()=>{var t;const[e,a]=(0,s.useState)({items:{},isLoading:!1,error:null}),{id:d}=(0,r.UO)(),l=(0,r.s0)(),h=(0,r.TH)(),{from:p}=h.state;(0,s.useEffect)((()=>{(async()=>{a((t=>({...t,isLoading:!0})));try{const t=await(0,c.l2)(d);a((e=>({...e,items:t})))}catch(u){a((e=>({...e,error:u.message})))}finally{a((t=>({...t,isLoading:!1})))}})()}),[d]);const{items:m,isLoading:v,error:u}=e,g=null===(t=m.genres)||void 0===t?void 0:t.map((t=>t.name)).join(", ");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:o.Z.buttonMD,children:(0,i.jsx)("button",{onClick:()=>{const t=h.state?h.state.from:"/";l(t)},className:o.Z.btnMD,children:"Go Back"})}),(0,i.jsx)("div",{className:o.Z.containerMD,children:v?(0,i.jsx)("p",{children:"Loading..."}):u?(0,i.jsx)("p",{children:u}):(0,i.jsxs)(i.Fragment,{children:[m.poster_path&&(0,i.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(m.poster_path),alt:m.title}),(0,i.jsx)("h2",{children:m.title}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("span",{children:"Genres:"})," ",g||"no information"]}),(0,i.jsx)("p",{children:m.overview}),(0,i.jsxs)("p",{children:["Rating: ",m.vote_average]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(n.rU,{state:{from:p},to:"/movies/".concat(d,"/reviews"),children:"Reviews"})}),(0,i.jsx)("div",{children:(0,i.jsx)(n.rU,{state:{from:p},to:"/movies/".concat(d,"/cast"),children:"Cast"})}),(0,i.jsx)(r.j3,{})]})]})})]})}},160:(t,e,a)=>{a.d(e,{M1:()=>h,cl:()=>i,l2:()=>o,tx:()=>l,vw:()=>n});var s=a(294);const c="03bc4a4901e556f9924acb8dbfb5d03a",r="https://api.themoviedb.org/3",n=async()=>{try{const{data:t}=await s.Z.get("".concat(r,"/movie/popular"),{params:{api_key:c,page:12}});return t}catch(t){throw new Error("Failed to fetch data: ".concat(t.message))}},o=async t=>{try{const{data:e}=await s.Z.get("".concat(r,"/movie/").concat(t),{params:{api_key:c}});return e}catch(e){throw new Error("Failed to fetch data: ".concat(e.message))}},i=async t=>{try{return(await s.Z.get("".concat(r,"/search/movie"),{params:{api_key:c,query:t}})).data.results}catch(e){throw e}},d={method:"GET",headers:{accept:"application/json"}};async function l(t){const e="".concat(r,"/movie/").concat(t,"/reviews?api_key=").concat(c,"&language=en-US&page=1");try{const t=await fetch(e,d);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(a){console.error(a)}}const h=async t=>await fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(c,"&include_adult=false")).then((t=>(t.ok,t.json())))}}]);
//# sourceMappingURL=138.4ba6af15.chunk.js.map