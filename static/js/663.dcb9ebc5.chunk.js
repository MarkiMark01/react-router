"use strict";(self.webpackChunkreact_router=self.webpackChunkreact_router||[]).push([[663],{663:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var c=a(791),r=a(689),s=a(160),o=(a(182),a(184));const n=()=>{const[t,e]=(0,c.useState)({items:[],isLoading:!1,error:null}),{id:a}=(0,r.UO)();(0,c.useEffect)((()=>{(async()=>{e((t=>({...t,isLoading:!0})));try{const t=await(0,s.tx)(a);console.log("Result:",t),e((e=>({...e,items:t.results})))}catch(d){e((e=>({...e,error:d.message})))}finally{e((t=>({...t,isLoading:!1})))}})()}),[a]);const{items:n,isLoading:i,error:d}=t;return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h2",{children:"Reviews"}),i&&(0,o.jsx)("p",{children:"Loading..."}),d&&(0,o.jsxs)("p",{children:["Error: ",d]}),n.length>0?n.map(((t,e)=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:["User: ",t.author]}),(0,o.jsx)("p",{children:t.content})]},e))):(0,o.jsx)("p",{children:"Sorry, no comments yet..."})]})}},160:(t,e,a)=>{a.d(e,{M1:()=>l,cl:()=>i,l2:()=>n,tx:()=>h,vw:()=>o});var c=a(294);const r="03bc4a4901e556f9924acb8dbfb5d03a",s="https://api.themoviedb.org/3",o=async()=>{try{const{data:t}=await c.Z.get("".concat(s,"/movie/popular"),{params:{api_key:r,page:12}});return t}catch(t){throw new Error("Failed to fetch data: ".concat(t.message))}},n=async t=>{try{const{data:e}=await c.Z.get("".concat(s,"/movie/").concat(t),{params:{api_key:r}});return e}catch(e){throw new Error("Failed to fetch data: ".concat(e.message))}},i=async t=>{try{return(await c.Z.get("".concat(s,"/search/movie"),{params:{api_key:r,query:t}})).data.results}catch(e){throw e}},d={method:"GET",headers:{accept:"application/json"}};async function h(t){const e="".concat(s,"/movie/").concat(t,"/reviews?api_key=").concat(r,"&language=en-US&page=1");try{const t=await fetch(e,d);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(a){console.error(a)}}const l=async t=>await fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(r,"&include_adult=false")).then((t=>(t.ok,t.json())))}}]);
//# sourceMappingURL=663.dcb9ebc5.chunk.js.map