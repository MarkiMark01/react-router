"use strict";(self.webpackChunkreact_router=self.webpackChunkreact_router||[]).push([[138],{138:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var s=a(791),r=a(160),c=a(689),n=a(87),o=(a(182),a(184));const i=()=>{var t;const[e,a]=(0,s.useState)({items:{},isLoading:!1,error:null}),{id:i}=(0,c.UO)(),d=(0,c.s0)(),l=(0,c.TH)(),{from:h}=l.state;(0,s.useEffect)((()=>{(async()=>{a((t=>({...t,isLoading:!0})));try{const t=await(0,r.l2)(i);a((e=>({...e,items:t})))}catch(v){a((e=>({...e,error:v.message})))}finally{a((t=>({...t,isLoading:!1})))}})()}),[i]);const{items:p,isLoading:m,error:v}=e,u=null===(t=p.genres)||void 0===t?void 0:t.map((t=>t.name)).join(", ");return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("button",{onClick:()=>{const t=l.state?l.state.from:"/";d(t)},children:"Go Back"}),m?(0,o.jsx)("p",{children:"Loading..."}):v?(0,o.jsx)("p",{children:v}):(0,o.jsxs)(o.Fragment,{children:[p.poster_path&&(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(p.poster_path),alt:p.title}),(0,o.jsx)("h2",{children:p.title}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("span",{children:"Genres:"})," ",u||"no information"]}),(0,o.jsx)("p",{children:p.overview}),(0,o.jsxs)("p",{children:["Rating: ",p.vote_average]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:(0,o.jsx)(n.rU,{state:{from:h},to:"/movies/".concat(i,"/reviews"),children:"Reviews"})}),(0,o.jsx)("div",{children:(0,o.jsx)(n.rU,{state:{from:h},to:"/movies/".concat(i,"/cast"),children:"Cast"})}),(0,o.jsx)(c.j3,{})]})]})]})}},160:(t,e,a)=>{a.d(e,{M1:()=>l,cl:()=>o,l2:()=>n,tx:()=>d});var s=a(294);const r="03bc4a4901e556f9924acb8dbfb5d03a",c="https://api.themoviedb.org/3",n=async t=>{try{const{data:e}=await s.Z.get("".concat(c,"/movie/").concat(t),{params:{api_key:r}});return e}catch(e){throw new Error("Failed to fetch data: ".concat(e.message))}},o=async t=>{try{return(await s.Z.get("".concat(c,"/search/movie"),{params:{api_key:r,query:t}})).data.results}catch(e){throw e}},i={method:"GET",headers:{accept:"application/json"}};async function d(t){const e="".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(r,"&language=en-US&page=1");try{const t=await fetch(e,i);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(a){console.error(a)}}const l=async t=>await fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(r,"&include_adult=false")).then((t=>(t.ok,t.json())))}}]);
//# sourceMappingURL=138.33280523.chunk.js.map