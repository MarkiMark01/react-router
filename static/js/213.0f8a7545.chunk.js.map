{"version":3,"file":"static/js/213.0f8a7545.chunk.js","mappings":"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","sources":["components/PostList/PostList.jsx","components/pages/Movies/MoviesSearch.jsx","components/pages/Movies/Movies.jsx","components/services/fetchMovies.js"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst PostList = ({ items }) => {\r\n  const location = useLocation();\r\n\r\n  const elements = items.map(({ id, title }) => (\r\n    <li key={id}>\r\n      <Link state={{ from: location }} to={`/movies/${id}`}>\r\n        {title}\r\n      </Link>\r\n    </li>\r\n  ));\r\n  return <ul>{elements}</ul>;\r\n};\r\n\r\nPostList.defaultProps = {\r\n  items: [],\r\n};\r\n\r\nexport default PostList;\r\n","import \"../../styles/style.css\";\r\nimport { useState } from \"react\";\r\n\r\nconst MoviesSearch = ({ onSubmit }) => {\r\n  const [state, setState] = useState({\r\n    search: \"\",\r\n  });\r\n\r\n  // const handleChange = (e) => {\r\n  //   const value = e.target.value;\r\n  //   setState({\r\n  //     ...state,\r\n  //     search: value,\r\n  //   });\r\n  // };\r\n\r\n  const handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    setState({\r\n      ...state,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit({ ...state });\r\n    setState({\r\n      search: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        onChange={handleChange}\r\n        name=\"search\"\r\n        value={state.search}\r\n        // placeholder=\"search\"\r\n        required\r\n      ></input>\r\n\r\n      <button type=\"submit\">Search</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MoviesSearch;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport MoviesSearch from \"./MoviesSearch\";\r\nimport { searchPosts } from \"../../services/fetchMovies\";\r\nimport PostList from \"../../PostList/PostList\";\r\nimport \"../../styles/style.css\";\r\n\r\nconst Movies = () => {\r\n  const [state, setState] = useState({\r\n    items: [],\r\n    loading: false,\r\n    error: null,\r\n  });\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const search = searchParams.get(\"search\");\r\n\r\n  //   const [search, setSearch] = useState(\"\");\r\n  const [loading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          loading: true,\r\n        }));\r\n\r\n        const data = await searchPosts(search);\r\n\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          items: data,\r\n        }));\r\n      } catch (error) {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          error,\r\n        }));\r\n      } finally {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          loading: false,\r\n        }));\r\n      }\r\n    };\r\n\r\n    if (search) {\r\n      fetchPosts();\r\n    }\r\n  }, [search]);\r\n\r\n  const changeSearch = ({ search }) => {\r\n    // setSearch(search);\r\n    setSearchParams({ search });\r\n  };\r\n\r\n  const { items } = state;\r\n\r\n  return (\r\n    // <div className=\"container\">\r\n    //   <MoviesSearch onSubmit={changeSearch} />\r\n    //   {items.length > 0 && <PostList items={items} />}\r\n    // </div>\r\n    <div className=\"container\">\r\n      <MoviesSearch onSubmit={changeSearch} />\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        items.length > 0 && <PostList items={items} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Movies;\r\n","import axios from 'axios';\r\n\r\nconst APIKEY = '03bc4a4901e556f9924acb8dbfb5d03a';\r\nconst URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const fetchMovies = async () => {\r\n    const page = 12;\r\n    try {\r\n        const { data } = await axios.get(`${URL}/movie/popular`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                page: page,\r\n            },\r\n        });\r\n        return data;\r\n    } catch (error) {\r\n        throw new Error(`Failed to fetch data: ${error.message}`);\r\n    }\r\n};\r\n\r\n\r\nexport const fetchMoviesDetails = async (id) => {\r\n    try {\r\n        const { data } = await axios.get(`${URL}/movie/${id}`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n            },\r\n        });\r\n        return data;\r\n    } catch (error) {\r\n        throw new Error(`Failed to fetch data: ${error.message}`);\r\n    }\r\n};\r\n\r\nexport const searchPosts = async (search) => {\r\n    try {\r\n        const response = await axios.get(`${URL}/search/movie`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                query: search,\r\n            },\r\n        });\r\n\r\n        return response.data.results;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\nexport const searchReviews = async (id) => {\r\n    try {\r\n        const response = await axios.get(`${URL}/search/movie/${id}/reviews`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                query: id,\r\n            },\r\n        });\r\n\r\n        return response.data.results;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const getReviews = async id => {\r\n    return await fetch(\r\n        `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${APIKEY}&include_adult=false`\r\n    ).then(res => {\r\n        if (!res.ok) {\r\n            //   return Promise.reject(new Error(`No ${searchQuery} picture`));\r\n        }\r\n        return res.json();\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nconst options = { method: 'GET', headers: { accept: 'application/json' } };\r\n\r\nasync function getMovieReviews(movieId) {\r\n    const fetchURL = `${URL}/movie/${movieId}/reviews?api_key=${APIKEY}&language=en-US&page=1`;\r\n\r\n    try {\r\n        const response = await fetch(fetchURL, options);\r\n        if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n        }\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport { getMovieReviews };\r\n\r\n\r\n\r\n// async function getMovieCast(movieId) {\r\n//     const fetchURL = `${URL}/movie/${movieId}/cast?api_key=${APIKEY}&language=en-US&page=1`;\r\n\r\n//     try {\r\n//         console.log(\"Fetching from URL:\", fetchURL); // Add logging for the fetch URL\r\n//         const response = await fetch(fetchURL, options);\r\n//         if (!response.ok) {\r\n//             throw new Error('Movie cast not found or the request was not successful');\r\n//         }\r\n//         const data = await response.json();\r\n//         return data;\r\n//     } catch (error) {\r\n//         console.error(error);\r\n//         throw error;\r\n//     }\r\n// }\r\n\r\n// export { getMovieCast };\r\n\r\n\r\n\r\nexport const getMovieCast = async id => {\r\n    return await fetch(\r\n        `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${APIKEY}&include_adult=false`\r\n    ).then(res => {\r\n        if (!res.ok) {\r\n            //   return Promise.reject(new Error(`No ${searchQuery} picture`));\r\n        }\r\n        return res.json();\r\n    });\r\n};\r\n"],"names":["PostList","_ref","items","location","useLocation","elements","map","_ref2","id","title","_jsx","children","Link","state","from","to","concat","defaultProps","onSubmit","setState","useState","search","_jsxs","e","preventDefault","onChange","target","name","value","required","type","Movies","loading","error","searchParams","setSearchParams","useSearchParams","get","useEffect","async","prevState","data","searchPosts","fetchPosts","className","MoviesSearch","length","APIKEY","URL","fetchMovies","axios","params","api_key","page","Error","message","fetchMoviesDetails","query","results","options","method","headers","accept","getMovieReviews","movieId","fetchURL","response","fetch","ok","json","console","getMovieCast","then","res"],"sourceRoot":""}