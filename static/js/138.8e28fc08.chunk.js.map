{"version":3,"file":"static/js/138.8e28fc08.chunk.js","mappings":"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","sources":["components/pages/MovieDetails/MovieDetails.jsx","components/services/fetchMovies.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { fetchMoviesDetails } from \"../../services/fetchMovies\"; // Updated function name\r\nimport {\r\n  useParams,\r\n  useNavigate,\r\n  Link,\r\n  Outlet,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\nimport styles from \"../../styles/styles.module.css\";\r\n\r\nconst MovieDetails = () => {\r\n  const [state, setState] = useState({\r\n    items: {},\r\n    isLoading: false,\r\n    error: null,\r\n  });\r\n\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const location = useLocation();\r\n  const { from } = location.state;\r\n\r\n  useEffect(() => {\r\n    const fetchMovieDetailsData = async () => {\r\n      setState((prevState) => ({\r\n        ...prevState,\r\n        isLoading: true,\r\n      }));\r\n      try {\r\n        const result = await fetchMoviesDetails(id);\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          items: result,\r\n        }));\r\n      } catch (error) {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          error: error.message,\r\n        }));\r\n      } finally {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          isLoading: false,\r\n        }));\r\n      }\r\n    };\r\n    fetchMovieDetailsData();\r\n  }, [id]);\r\n\r\n  const goBack = () => {\r\n    const from = location.state ? location.state.from : \"/\";\r\n    navigate(from);\r\n  };\r\n\r\n  const { items, isLoading, error } = state;\r\n\r\n  const genres = items.genres?.map((genre) => genre.name).join(\", \");\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.buttonMD}>\r\n        <button onClick={goBack} className={styles.btnMD}>\r\n          Go Back\r\n        </button>\r\n      </div>\r\n      <div className={styles.containerMD}>\r\n        {isLoading ? (\r\n          <p>Loading...</p>\r\n        ) : error ? (\r\n          <p>{error}</p>\r\n        ) : (\r\n          <>\r\n            <div className={styles.boxMD}>\r\n              {items.poster_path && (\r\n                <img\r\n                  src={`https://image.tmdb.org/t/p/w500/${items.poster_path}`}\r\n                  alt={items.title}\r\n                  width={500}\r\n                  height={500}\r\n                />\r\n              )}\r\n              <div className={styles.describeMD}>\r\n                <span className={styles.titleMD}>{items.title}</span>\r\n\r\n                <ul className={styles.listDescribe}>\r\n                  <span>Genres: {genres || \"no information\"}</span>\r\n                </ul>\r\n\r\n                <span style={{ textAlign: \"justify\" }}>{items.overview}</span>\r\n                <span className={styles.rating}>\r\n                  Rating: {items.vote_average}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className={styles.links}>\r\n              <div className={styles.linkMD}>\r\n                <Link\r\n                  state={{ from }}\r\n                  to={`/movies/${id}/reviews`}\r\n                  style={{ textDecoration: \"none\", color: \"#fff\" }}\r\n                >\r\n                  Reviews\r\n                </Link>\r\n              </div>\r\n              <div className={styles.linkMD}>\r\n                <Link\r\n                  state={{ from }}\r\n                  to={`/movies/${id}/cast`}\r\n                  style={{ textDecoration: \"none\", color: \"#fff\" }}\r\n                >\r\n                  Cast\r\n                </Link>\r\n              </div>\r\n              <Outlet />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n","import axios from 'axios';\r\n\r\nconst APIKEY = '03bc4a4901e556f9924acb8dbfb5d03a';\r\nconst URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const fetchMovies = async () => {\r\n    const page = 12;\r\n    try {\r\n        const { data } = await axios.get(`${URL}/movie/popular`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                page: page,\r\n            },\r\n        });\r\n        return data;\r\n    } catch (error) {\r\n        throw new Error(`Failed to fetch data: ${error.message}`);\r\n    }\r\n};\r\n\r\n\r\nexport const fetchMoviesDetails = async (id) => {\r\n    try {\r\n        const { data } = await axios.get(`${URL}/movie/${id}`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n            },\r\n        });\r\n        return data;\r\n    } catch (error) {\r\n        throw new Error(`Failed to fetch data: ${error.message}`);\r\n    }\r\n};\r\n\r\nexport const searchPosts = async (search) => {\r\n    try {\r\n        const response = await axios.get(`${URL}/search/movie`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                query: search,\r\n            },\r\n        });\r\n\r\n        return response.data.results;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\nexport const searchReviews = async (id) => {\r\n    try {\r\n        const response = await axios.get(`${URL}/search/movie/${id}/reviews`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                query: id,\r\n            },\r\n        });\r\n\r\n        return response.data.results;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const getReviews = async id => {\r\n    return await fetch(\r\n        `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${APIKEY}&include_adult=false`\r\n    ).then(res => {\r\n        if (!res.ok) {\r\n            //   return Promise.reject(new Error(`No ${searchQuery} picture`));\r\n        }\r\n        return res.json();\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nconst options = { method: 'GET', headers: { accept: 'application/json' } };\r\n\r\nasync function getMovieReviews(movieId) {\r\n    const fetchURL = `${URL}/movie/${movieId}/reviews?api_key=${APIKEY}&language=en-US&page=1`;\r\n\r\n    try {\r\n        const response = await fetch(fetchURL, options);\r\n        if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n        }\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport { getMovieReviews };\r\n\r\n\r\n\r\n// async function getMovieCast(movieId) {\r\n//     const fetchURL = `${URL}/movie/${movieId}/cast?api_key=${APIKEY}&language=en-US&page=1`;\r\n\r\n//     try {\r\n//         console.log(\"Fetching from URL:\", fetchURL); // Add logging for the fetch URL\r\n//         const response = await fetch(fetchURL, options);\r\n//         if (!response.ok) {\r\n//             throw new Error('Movie cast not found or the request was not successful');\r\n//         }\r\n//         const data = await response.json();\r\n//         return data;\r\n//     } catch (error) {\r\n//         console.error(error);\r\n//         throw error;\r\n//     }\r\n// }\r\n\r\n// export { getMovieCast };\r\n\r\n\r\n\r\nexport const getMovieCast = async id => {\r\n    return await fetch(\r\n        `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${APIKEY}&include_adult=false`\r\n    ).then(res => {\r\n        if (!res.ok) {\r\n            //   return Promise.reject(new Error(`No ${searchQuery} picture`));\r\n        }\r\n        return res.json();\r\n    });\r\n};\r\n"],"names":["MovieDetails","_items$genres","state","setState","useState","items","isLoading","error","id","useParams","navigate","useNavigate","location","useLocation","from","useEffect","async","prevState","result","fetchMoviesDetails","message","fetchMovieDetailsData","genres","map","genre","name","join","_jsxs","_Fragment","children","_jsx","className","styles","buttonMD","onClick","goBack","btnMD","containerMD","boxMD","poster_path","src","concat","alt","title","width","height","describeMD","titleMD","listDescribe","style","textAlign","overview","rating","vote_average","links","linkMD","Link","to","textDecoration","color","Outlet","APIKEY","URL","fetchMovies","data","axios","get","params","api_key","page","Error","searchPosts","query","search","results","options","method","headers","accept","getMovieReviews","movieId","fetchURL","response","fetch","ok","json","console","getMovieCast","then","res"],"sourceRoot":""}