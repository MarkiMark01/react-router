{"version":3,"file":"static/js/703.4c30ae23.chunk.js","mappings":"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","sources":["components/pages/Movies/MoviesSearch.jsx","components/PostList/PostList.jsx","components/pages/Movies/Movies.jsx","components/services/fetchMovies.js"],"sourcesContent":["import \"../../styles/style.css\";\r\nimport { useState } from \"react\";\r\n\r\nconst MoviesSearch = ({ onSubmit }) => {\r\n  const [state, setState] = useState({\r\n    search: \"\",\r\n  });\r\n\r\n  // const handleChange = (e) => {\r\n  //   const value = e.target.value;\r\n  //   setState({\r\n  //     ...state,\r\n  //     search: value,\r\n  //   });\r\n  // };\r\n\r\n  const handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    setState({\r\n      ...state,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit({ ...state });\r\n    setState({\r\n      search: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        onChange={handleChange}\r\n        name=\"search\"\r\n        value={state.search}\r\n        // placeholder=\"search\"\r\n        required\r\n      ></input>\r\n\r\n      <button type=\"submit\">Search</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MoviesSearch;\r\n","import { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst PostList = ({ items }) => {\r\n  const location = useLocation();\r\n\r\n  const elements = items.map(({ id, title }) => (\r\n    <li key={id}>\r\n      <Link state={{ from: location }} to={`/movies/${id}`}>\r\n        {title}\r\n      </Link>\r\n    </li>\r\n  ));\r\n  return <ul>{elements}</ul>;\r\n};\r\n\r\nPostList.defaultProps = {\r\n  items: [],\r\n};\r\n\r\nexport default PostList;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport MoviesSearch from \"./MoviesSearch\";\r\nimport { searchPosts } from \"../../services/fetchMovies\";\r\nimport PostList from \"../../PostList/PostList\";\r\nimport \"../../styles/style.css\";\r\n\r\nconst Movies = () => {\r\n  const [state, setState] = useState({\r\n    items: [],\r\n    loading: false,\r\n    error: null,\r\n  });\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const search = searchParams.get(\"search\");\r\n\r\n  //   const [search, setSearch] = useState(\"\");\r\n  const [loading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          loading: true,\r\n        }));\r\n\r\n        const data = await searchPosts(search);\r\n\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          items: data,\r\n        }));\r\n      } catch (error) {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          error,\r\n        }));\r\n      } finally {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          loading: false,\r\n        }));\r\n      }\r\n    };\r\n\r\n    if (search) {\r\n      fetchPosts();\r\n    }\r\n  }, [search]);\r\n\r\n  const changeSearch = ({ search }) => {\r\n    // setSearch(search);\r\n    setSearchParams({ search });\r\n  };\r\n\r\n  const { items } = state;\r\n\r\n  return (\r\n    // <div className=\"container\">\r\n    //   <MoviesSearch onSubmit={changeSearch} />\r\n    //   {items.length > 0 && <PostList items={items} />}\r\n    // </div>\r\n    <div className=\"container\">\r\n      <MoviesSearch onSubmit={changeSearch} />\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        items.length > 0 && <PostList items={items} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Movies;\r\n","import axios from 'axios';\r\n\r\nconst APIKEY = '03bc4a4901e556f9924acb8dbfb5d03a';\r\nconst URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const fetchMovies = async () => {\r\n    const page = 12;\r\n    try {\r\n        const { data } = await axios.get(`${URL}/movie/popular`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                page: page,\r\n            },\r\n        });\r\n        return data;\r\n    } catch (error) {\r\n        throw new Error(`Failed to fetch data: ${error.message}`);\r\n    }\r\n};\r\n\r\n\r\nexport const fetchMoviesDetails = async (id) => {\r\n    try {\r\n        const { data } = await axios.get(`${URL}/movie/${id}`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n            },\r\n        });\r\n        return data;\r\n    } catch (error) {\r\n        throw new Error(`Failed to fetch data: ${error.message}`);\r\n    }\r\n};\r\n\r\nexport const searchPosts = async (search) => {\r\n    try {\r\n        const response = await axios.get(`${URL}/search/movie`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                query: search,\r\n            },\r\n        });\r\n\r\n        return response.data.results;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\nexport const searchReviews = async (id) => {\r\n    try {\r\n        const response = await axios.get(`${URL}/search/movie/${id}/reviews`, {\r\n            params: {\r\n                api_key: APIKEY,\r\n                query: id,\r\n            },\r\n        });\r\n\r\n        return response.data.results;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const getReviews = async id => {\r\n    return await fetch(\r\n        `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${APIKEY}&include_adult=false`\r\n    ).then(res => {\r\n        if (!res.ok) {\r\n            //   return Promise.reject(new Error(`No ${searchQuery} picture`));\r\n        }\r\n        return res.json();\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nconst options = { method: 'GET', headers: { accept: 'application/json' } };\r\n\r\nasync function getMovieReviews(movieId) {\r\n    const fetchURL = `${URL}/movie/${movieId}/reviews?api_key=${APIKEY}&language=en-US&page=1`;\r\n\r\n    try {\r\n        const response = await fetch(fetchURL, options);\r\n        if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n        }\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport { getMovieReviews };\r\n\r\n\r\n\r\n// async function getMovieCast(movieId) {\r\n//     const fetchURL = `${URL}/movie/${movieId}/cast?api_key=${APIKEY}&language=en-US&page=1`;\r\n\r\n//     try {\r\n//         console.log(\"Fetching from URL:\", fetchURL); // Add logging for the fetch URL\r\n//         const response = await fetch(fetchURL, options);\r\n//         if (!response.ok) {\r\n//             throw new Error('Movie cast not found or the request was not successful');\r\n//         }\r\n//         const data = await response.json();\r\n//         return data;\r\n//     } catch (error) {\r\n//         console.error(error);\r\n//         throw error;\r\n//     }\r\n// }\r\n\r\n// export { getMovieCast };\r\n\r\n\r\n\r\nexport const getMovieCast = async id => {\r\n    return await fetch(\r\n        `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${APIKEY}&include_adult=false`\r\n    ).then(res => {\r\n        if (!res.ok) {\r\n            //   return Promise.reject(new Error(`No ${searchQuery} picture`));\r\n        }\r\n        return res.json();\r\n    });\r\n};\r\n"],"names":["_ref","onSubmit","state","setState","useState","search","_jsxs","e","preventDefault","children","_jsx","onChange","_ref2","target","name","value","required","type","PostList","items","location","useLocation","elements","map","id","title","Link","from","to","concat","defaultProps","Movies","loading","error","searchParams","setSearchParams","useSearchParams","get","useEffect","async","prevState","data","searchPosts","fetchPosts","className","MoviesSearch","length","APIKEY","URL","fetchMoviesDetails","axios","params","api_key","Error","message","query","results","options","method","headers","accept","getMovieReviews","movieId","fetchURL","response","fetch","ok","json","console","getMovieCast","then","res"],"sourceRoot":""}