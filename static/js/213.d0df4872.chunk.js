"use strict";(self.webpackChunkreact_router=self.webpackChunkreact_router||[]).push([[213],{503:(t,e,a)=>{a.d(e,{Z:()=>i});var c=a(689),r=a(87),n=a(630),s=a(184);const o=t=>{let{items:e}=t;const a=(0,c.TH)(),o=e.map((t=>{let{id:e,title:c}=t;return(0,s.jsx)("li",{className:n.Z.list,children:(0,s.jsx)(r.rU,{state:{from:a},to:"/movies/".concat(e),style:{textDecoration:"none"},children:c})},e)}));return(0,s.jsx)("ul",{className:n.Z.container2,children:o})};o.defaultProps={items:[]};const i=o},213:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var c=a(791),r=a(87),n=a(184);const s=t=>{let{onSubmit:e}=t;const[a,r]=(0,c.useState)({search:""});return(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e({...a}),r({search:""})},children:[(0,n.jsx)("input",{onChange:t=>{let{target:e}=t;const{name:c,value:n}=e;r({...a,[c]:n})},name:"search",value:a.search,required:!0}),(0,n.jsx)("button",{type:"submit",children:"Search"})]})};var o=a(160),i=a(503);const l=()=>{const[t,e]=(0,c.useState)({items:[],loading:!1,error:null}),[a,l]=(0,r.lr)(),h=a.get("search"),[u]=(0,c.useState)(!1);(0,c.useEffect)((()=>{h&&(async()=>{try{e((t=>({...t,loading:!0})));const t=await(0,o.cl)(h);e((e=>({...e,items:t})))}catch(t){e((e=>({...e,error:t})))}finally{e((t=>({...t,loading:!1})))}})()}),[h]);const{items:d}=t;return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(s,{onSubmit:t=>{let{search:e}=t;l({search:e})}}),u?(0,n.jsx)("p",{children:"Loading..."}):d.length>0&&(0,n.jsx)(i.Z,{items:d})]})}},160:(t,e,a)=>{a.d(e,{M1:()=>u,cl:()=>i,l2:()=>o,tx:()=>h,vw:()=>s});var c=a(294);const r="03bc4a4901e556f9924acb8dbfb5d03a",n="https://api.themoviedb.org/3",s=async()=>{try{const{data:t}=await c.Z.get("".concat(n,"/movie/popular"),{params:{api_key:r,page:12}});return t}catch(t){throw new Error("Failed to fetch data: ".concat(t.message))}},o=async t=>{try{const{data:e}=await c.Z.get("".concat(n,"/movie/").concat(t),{params:{api_key:r}});return e}catch(e){throw new Error("Failed to fetch data: ".concat(e.message))}},i=async t=>{try{return(await c.Z.get("".concat(n,"/search/movie"),{params:{api_key:r,query:t}})).data.results}catch(e){throw e}},l={method:"GET",headers:{accept:"application/json"}};async function h(t){const e="".concat(n,"/movie/").concat(t,"/reviews?api_key=").concat(r,"&language=en-US&page=1");try{const t=await fetch(e,l);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(a){console.error(a)}}const u=async t=>await fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(r,"&include_adult=false")).then((t=>(t.ok,t.json())))}}]);
//# sourceMappingURL=213.d0df4872.chunk.js.map