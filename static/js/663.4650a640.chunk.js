"use strict";(self.webpackChunkreact_router=self.webpackChunkreact_router||[]).push([[663],{663:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var r=t(791),c=t(689),s=t(160),o=t(630),n=t(184);const i=()=>{const[e,a]=(0,r.useState)({items:[],isLoading:!1,error:null}),{id:t}=(0,c.UO)();(0,r.useEffect)((()=>{(async()=>{a((e=>({...e,isLoading:!0})));try{const e=await(0,s.tx)(t);console.log("Result:",e),a((a=>({...a,items:e.results})))}catch(l){a((a=>({...a,error:l.message})))}finally{a((e=>({...e,isLoading:!1})))}})()}),[t]);const{items:i,isLoading:d,error:l}=e;return(0,n.jsxs)("div",{className:o.Z.reviews,children:[d&&(0,n.jsx)("p",{children:"Loading..."}),l&&(0,n.jsxs)("p",{children:["Error: ",l]}),i.length>0?i.map(((e,a)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:o.Z.reviewsUser,children:["User: ",e.author]}),(0,n.jsx)("p",{className:o.Z.reviewsContent,children:e.content})]},a))):(0,n.jsx)("p",{children:"Sorry, no comments yet..."})]})}},160:(e,a,t)=>{t.d(a,{M1:()=>h,cl:()=>i,l2:()=>n,tx:()=>l,vw:()=>o});var r=t(294);const c="03bc4a4901e556f9924acb8dbfb5d03a",s="https://api.themoviedb.org/3",o=async()=>{try{const{data:e}=await r.Z.get("".concat(s,"/movie/popular"),{params:{api_key:c,page:12}});return e}catch(e){throw new Error("Failed to fetch data: ".concat(e.message))}},n=async e=>{try{const{data:a}=await r.Z.get("".concat(s,"/movie/").concat(e),{params:{api_key:c}});return a}catch(a){throw new Error("Failed to fetch data: ".concat(a.message))}},i=async e=>{try{return(await r.Z.get("".concat(s,"/search/movie"),{params:{api_key:c,query:e}})).data.results}catch(a){throw a}},d={method:"GET",headers:{accept:"application/json"}};async function l(e){const a="".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(c,"&language=en-US&page=1");try{const e=await fetch(a,d);if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(t){console.error(t)}}const h=async e=>await fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(c,"&include_adult=false")).then((e=>(e.ok,e.json())))}}]);
//# sourceMappingURL=663.4650a640.chunk.js.map